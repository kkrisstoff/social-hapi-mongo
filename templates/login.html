<!DOCTYPE html>
<html>
<head>
    <title>{{ title }}</title>
    <link rel='stylesheet' href='/css/main.css' />
    <meta name="viewport" content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">

    <script type="text/javascript" src="/vendor/jquery-2.1.3.js"></script>
</head>
<body>
<div class="container">
    <h3>{{ title }}</h3>
    <form id="logIn" name="login" class="login-form" method="POST" action="/login">
        <div class="row">
            <h3>Log In</h3>
        </div>
        <div class="row">
            <div class="col-6">
                <p><label for="name">Name</label></p>
                <input id="name" type="text" name="username" placeholder="Name"/>
            </div>
            <div class="col-6">
                <p><label for="pass">Password</label></p>
                <input id="pass" type="password" name="password" placeholder="Password"/>
            </div>
        </div>
        <div class="row">
            <div class="error" style="display: none">
                <span class="error-msg"></span>
            </div>
        </div>
        <div class="row">
            <div class="col-6">
                <input type="submit" value="Log In"/>
            </div>
            <div class="col-6">

            </div>
        </div>
    </form>
    <form id="register" name="login" class="login-form" method="POST" action="/register">
        <div class="row">
            <h3>Log In</h3>
        </div>
        <div class="row">
            <div class="col-6">
                <p><label for="name">Name</label></p>
                <input id="newName" type="text" name="username" placeholder="Your Name"/>
            </div>
            <div class="col-6">
                <p><label for="pass">Password</label></p>
                <input id="newPass" type="password" name="password" placeholder="Your Password"/>
            </div>
            <div class="col-6">
                <p><label for="pass">Password</label></p>
                <input id="newMail" type="text" name="mail" placeholder="Your e-mail"/>
            </div>
        </div>
        <div class="row">
            <div class="error" style="display: none">
                <span class="error-msg"></span>
            </div>
        </div>
        <div class="row">
            <div class="col-6">
                <input type="submit" value="Register New User"/>
            </div>
            <div class="col-6">

            </div>
        </div>

    </form>
</div>
<script>
    (function () {

//        $(document.forms['login']).on('submit', function() {
//            var form = $(this);
//            showError(null);
//            if(!isFormValid(form)){
//                showError("Invalid Form Data");
//                return false;
//            }
//            //$(":submit", form).button("loading");
//
//            $.ajax({
//                url: "/login",
//                data: form.serialize(),
//                method: "POST",
//                complete: function() {
//                    //$(":submit", form).button("reset");
//                },
//                statusCode: {
//                    200: function() {
//                        window.location.href = "/dashboard";
//                    },
//                    403: function(jqXHR) {
//                        console.log(jqXHR);
//                        var error = jqXHR.responseText;
//                        showError(error);
//                    }
//                }
//            });
//            return false;
//        });
//
//        function showError(msg) {
//            var errorHolder = $('.error');
//            if (!msg){
//                errorHolder.hide();
//            } else {
//                errorHolder.show();
//                errorHolder.find(".error-msg").text(msg || "");
//            }
//        }
//
//        function isFormValid(form) {
//            var inputs = form.find("input"),
//                    i, l = inputs.length;
//            for (i = 0; i < l; i++){
//                if (!inputs[i].value.length) return false;
//            }
//            return true;
//        }
    })();


</script>
</body>
</html>
